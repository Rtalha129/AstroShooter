<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Space</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="scanline"></div>
    <canvas id="game-canvas"></canvas>

    <!-- Main Menu -->
    <div id="main-menu" class="ui-overlay flex flex-col items-center justify-center min-h-screen p-6 pointer-events-auto">
        <div class="glass p-12 rounded-2xl text-center max-w-2xl">
            <h1 class="font-orbitron text-5xl md:text-7xl font-bold mb-4 tracking-tighter text-sky-400">ASTRO SPACE</h1>
            <p class="text-xl text-sky-200 mb-8 opacity-80 uppercase tracking-widest font-medium text-center">Adaptive AI Gameplay Director</p>
            
            <div class="mb-8">
                <p class="text-sky-400 text-xs font-orbitron mb-4 uppercase tracking-widest">Select Mission Duration</p>
                <div class="flex justify-center gap-4">
                    <button onclick="selectDuration(30)" id="time-30" class="time-btn glass px-6 py-2 rounded font-orbitron text-sm transition-all hover:bg-sky-500/10 active">30s</button>
                    <button onclick="selectDuration(50)" id="time-50" class="time-btn glass px-6 py-2 rounded font-orbitron text-sm transition-all hover:bg-sky-500/10">50s</button>
                    <button onclick="selectDuration(90)" id="time-90" class="time-btn glass px-6 py-2 rounded font-orbitron text-sm transition-all hover:bg-sky-500/10">1m 30s</button>
                </div>
            </div>

            <div class="space-y-4">
                <button onclick="startGame()" class="w-full bg-sky-500 hover:bg-sky-400 text-white font-orbitron py-4 px-8 rounded-lg transition-all transform hover:scale-105 shadow-lg shadow-sky-500/20">
                    SYNC ASTRO LINK
                </button>
            </div>

            <div class="mt-12 text-sky-300/60 text-sm italic">
                Neural audio synthesis enabled. ARIA will monitor performance until extraction.
            </div>
        </div>
    </div>

    <!-- HUD -->
    <div id="hud" class="ui-overlay fixed top-0 left-0 w-full h-full hidden pointer-events-none">
        <div id="crosshair"></div>
        
        <!-- Stats Top Left -->
        <div class="absolute top-8 left-8 space-y-4">
            <div class="glass px-6 py-3 rounded-lg">
                <div class="flex justify-between items-center mb-1">
                    <span class="text-sky-400 text-xs font-orbitron">SYSTEM INTEGRITY</span>
                    <span id="health-text" class="text-white text-xs font-bold">100%</span>
                </div>
                <div class="w-64 h-1.5 bg-slate-800 rounded-full">
                    <div id="health-bar" class="h-full bg-sky-400 rounded-full transition-all duration-500" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="flex gap-4">
                <div class="glass px-4 py-2 rounded">
                    <span class="text-sky-400 text-xs font-orbitron block uppercase">Kills</span>
                    <span id="kill-count" class="text-2xl text-white font-bold">0</span>
                </div>
                <div class="glass px-4 py-2 rounded">
                    <span class="text-sky-400 text-xs font-orbitron block uppercase">Accuracy</span>
                    <span id="accuracy-val" class="text-2xl text-sky-200 font-bold">100%</span>
                </div>
                <div class="glass px-4 py-2 rounded">
                    <span class="text-sky-400 text-xs font-orbitron block uppercase">Time Left</span>
                    <span id="timer-val" class="text-2xl text-white font-bold">00:00</span>
                </div>
            </div>

            <!-- Active Power-ups list -->
            <div id="active-effects" class="space-y-2"></div>
        </div>

        <!-- Intensity Indicator -->
        <div class="absolute top-8 right-1/2 translate-x-1/2 glass px-6 py-2 rounded-full">
            <span class="text-sky-400 text-[10px] font-orbitron uppercase tracking-widest mr-2">Astro Intensity:</span>
            <span id="intensity-val" class="text-rose-400 font-bold font-orbitron">0.5x</span>
        </div>

        <!-- AI Director Feed Bottom Right -->
        <div class="absolute bottom-8 right-8 w-96">
            <div id="ai-directive" class="glass p-6 rounded-xl border-t-2">
                <div class="flex items-center gap-3 mb-3">
                    <div class="w-3 h-3 bg-sky-500 rounded-full animate-ping"></div>
                    <span class="text-sky-400 text-xs font-orbitron tracking-widest uppercase">ARIA: Astro Director</span>
                </div>
                <p id="ai-status-text" class="text-sky-100 text-lg font-medium leading-tight">
                    Calibrating to pilot's synaptic response...
                </p>
                <div id="ai-loading" class="mt-4 h-1 w-full bg-slate-800 rounded-full overflow-hidden hidden">
                    <div class="h-full bg-sky-400 animate-infinite-loading"></div>
                </div>
            </div>
        </div>

        <!-- Home Button Top Right -->
        <div class="absolute top-8 right-8 pointer-events-auto">
            <button onclick="goToHome()" class="glass px-4 py-2 rounded text-sky-400 text-xs font-orbitron hover:bg-sky-500/10 transition-all">
                ABORT MISSION
            </button>
        </div>
    </div>

    <!-- Game Over -->
    <div id="game-over" class="ui-overlay fixed top-0 left-0 w-full h-full hidden flex items-center justify-center bg-black/95 pointer-events-auto">
        <div class="text-center glass p-12 rounded-3xl border-rose-500/30 max-w-lg w-full">
            <h2 id="game-over-title" class="text-5xl font-orbitron text-rose-500 mb-6 uppercase tracking-tighter">Link Disconnected</h2>
            
            <div class="grid grid-cols-2 gap-4 mb-10">
                <div class="bg-white/5 p-6 rounded-xl border border-white/10">
                    <p class="text-sky-400 text-[10px] font-orbitron uppercase tracking-widest mb-1">Total Eliminations</p>
                    <p id="final-score" class="text-4xl text-white font-bold">0</p>
                </div>
                <div class="bg-white/5 p-6 rounded-xl border border-white/10">
                    <p class="text-sky-400 text-[10px] font-orbitron uppercase tracking-widest mb-1">Combat Precision</p>
                    <p id="final-accuracy" class="text-4xl text-sky-200 font-bold">0%</p>
                </div>
            </div>

            <div class="flex flex-col gap-4">
                <button onclick="startGame()" class="w-full bg-sky-500 text-white font-orbitron py-4 px-8 rounded-lg hover:bg-sky-400 transition-all shadow-xl shadow-sky-500/20 uppercase tracking-widest">
                    Play Again
                </button>
                <button onclick="goToHome()" class="w-full border border-white/20 text-white font-orbitron py-3 px-8 rounded-lg hover:bg-white/10 transition-all uppercase tracking-widest text-sm">
                    Return to Home
                </button>
            </div>
        </div>
    </div>

    <script src="/main.js"></script>
</body>
</html>

